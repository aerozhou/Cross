#!name = ğŸ™ï¸ Podcasts Enhanced
#!desc = 1.è§£é” Podcasts å®Œæ•´åŠŸèƒ½\n2.æ”¯æŒæ’­å®¢æœç´¢å’Œæ’­æ”¾\n3.æ”¯æŒè·¨åŒºæ’­å®¢è®¢é˜…\n4.ä¼˜åŒ–ç½‘ç»œè¿æ¥é—®é¢˜\n5.ä¿®å¤ QUIC é˜»æ–­
#!author = aerozhou
#!homepage = https://github.com/aerozhou
#!icon = https://www.apple.com/v/apple-podcasts/c/images/overview/icon_podcasts__erkizcg69mam_large.png
#!category = Apple
#!version = 1.1.0
#!arguments=Proxy:ğŸ‡ºğŸ‡¸ç¾å›½,CountryCode:"US",LogLevel:"WARN"

[General]
# å¼ºåˆ¶ä½¿ç”¨ HTTP å¼•æ“
force-http-engine-hosts = %APPEND% amp-api.podcasts.apple.com, bookkeeper.itunes.apple.com, *.qtlcdn.com, *.cdnmg.com
# ç¦ç”¨ QUIC
quic = false
# UDP é™çº§å¤„ç†
udp-policy-not-supported-behaviour = DIRECT

[Rule]
# CDN ç›¸å…³åŸŸåç›´è¿
DOMAIN-SUFFIX,qtlcdn.com,DIRECT
DOMAIN-SUFFIX,cdnmg.com,DIRECT
# Podcasts æ ¸å¿ƒæœåŠ¡
DOMAIN,amp-api.podcasts.apple.com,{{{Proxy}}}
DOMAIN,bookkeeper.itunes.apple.com,{{{Proxy}}}
DOMAIN,client-api.itunes.apple.com,{{{Proxy}}}
DOMAIN,play.itunes.apple.com,{{{Proxy}}}
DOMAIN-SUFFIX,podcasts.apple.com,{{{Proxy}}}
DOMAIN-SUFFIX,podcasts.apple-dns.net,{{{Proxy}}}

[Host]
# Podcasts DNS
amp-api.podcasts.apple.com = server:8.8.8.8
bookkeeper.itunes.apple.com = server:8.8.8.8
client-api.itunes.apple.com = server:8.8.8.8
play.itunes.apple.com = server:8.8.8.8
podcasts.apple.com = server:8.8.8.8

[MITM]
hostname = %APPEND% *.podcasts.apple.com, *.itunes.apple.com, *.qtlcdn.com, *.cdnmg.com, play.itunes.apple.com, *-buy.itunes.apple.com, buy.itunes.apple.com

[Script]
# é…ç½®å¤„ç†
ğŸ™ï¸ Podcasts.configs.request = type=http-request,pattern=^https?:\/\/amp-api\.podcasts\.apple\.com\/v1\/configs\/\w+,requires-body=1,script-path=https://raw.githubusercontent.com/aerozhou/Podcasts/main/js/Podcasts.request.js,argument=CountryCode="{{{CountryCode}}}"&LogLevel="{{{LogLevel}}}"

# æœç´¢å¤„ç†
ğŸ™ï¸ Podcasts.search.request = type=http-request,pattern=^https?:\/\/amp-api\.podcasts\.apple\.com\/v1\/catalog\/\w+\/search,requires-body=1,script-path=https://raw.githubusercontent.com/aerozhou/Podcasts/main/js/Podcasts.request.js,argument=CountryCode="{{{CountryCode}}}"&LogLevel="{{{LogLevel}}}"

# ç›®å½•æµè§ˆ
ğŸ™ï¸ Podcasts.browse.request = type=http-request,pattern=^https?:\/\/amp-api\.podcasts\.apple\.com\/v1\/catalog\/\w+\/browse,requires-body=1,script-path=https://raw.githubusercontent.com/aerozhou/Podcasts/main/js/Podcasts.request.js,argument=CountryCode="{{{CountryCode}}}"&LogLevel="{{{LogLevel}}}"

# æ’­æ”¾æ§åˆ¶
ğŸ™ï¸ Podcasts.playback.request = type=http-request,pattern=^https?:\/\/play\.itunes\.apple\.com\/WebObjects\/MZPlay\.woa\/wa\/,requires-body=1,script-path=https://raw.githubusercontent.com/aerozhou/Podcasts/main/js/Podcasts.request.js,argument=CountryCode="{{{CountryCode}}}"&LogLevel="{{{LogLevel}}}"
